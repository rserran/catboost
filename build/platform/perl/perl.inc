PROVIDES(system_perl)

IF (PERL_SDK == "ubuntu-12")
    DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL_514 sbr:337748278)
ELSEIF (PERL_SDK == "ubuntu-14")
    DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL_518 sbr:1655582861)
ELSEIF (PERL_SDK == "ubuntu-16")
    DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL_522 sbr:323251590)
ELSEIF (PERL_SDK == "ubuntu-18")
    DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL_526 sbr:616700320)
ELSEIF (PERL_SDK == "ubuntu-20")
    DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL_530 sbr:2001114055)
ELSE()
    MESSAGE(FATAL_ERROR "Building against system perl is not supported on ${PERL_SDK}")
ENDIF()

IF (PERL_INCLUDE)
    CFLAGS(GLOBAL $PERL_INCLUDE)
ENDIF()

CFLAGS(GLOBAL -I$PERL_ARCHLIB/CORE)

IF (PERL_LIBS)
    LDFLAGS(-L${PERL_LIBS})
ENDIF()

IF (NOT OS_WINDOWS)
    LDFLAGS(-lperl)
ELSE()
    LDFLAGS(perl.lib)
ENDIF()

CFLAGS(GLOBAL -DUSE_PERL)
